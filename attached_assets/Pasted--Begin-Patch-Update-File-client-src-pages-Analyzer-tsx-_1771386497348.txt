*** Begin Patch
*** Update File: client/src/pages/Analyzer.tsx
@@
-  const collectionCoverage = useMemo(() => {
-    if (!batchPreferenceRoles || !learnedProfile || learnedProfile.status === "no_data") return null;
-    const total = batchPreferenceRoles.length;
-    const featureCount = batchPreferenceRoles.filter((r) => r.role === "Feature element").length;
-    const bodyCount = batchPreferenceRoles.filter((r) => r.role === "Body element").length;
-    const unlikelyCount = batchPreferenceRoles.filter((r) => r.unlikelyToUse).length;
-    const unmatched = total - featureCount - bodyCount;
-    const avgFeatured = featureCount > 0
-      ? Math.round(batchPreferenceRoles.filter((r) => r.role === "Feature element").reduce((s, r) => s + r.featuredScore, 0) / featureCount)
-      : 0;
-    const avgBody = bodyCount > 0
-      ? Math.round(batchPreferenceRoles.filter((r) => r.role === "Body element").reduce((s, r) => s + r.bodyScore, 0) / bodyCount)
-      : 0;
-
-    const minForRole = Math.max(2, Math.ceil(total * 0.15));
-    const hasEnoughFeature = featureCount >= minForRole;
-    const hasEnoughBody = bodyCount >= minForRole;
-
-    let verdict: string;
-    let verdictColor: string;
-    const suggestions: string[] = [];
-
-    if (hasEnoughFeature && hasEnoughBody) {
-      verdict = "Good coverage";
-      verdictColor = "text-emerald-400";
-      suggestions.push(`${featureCount} feature-type and ${bodyCount} body-type IRs give you solid blending range for your preferred tones.`);
-    } else if (!hasEnoughFeature && !hasEnoughBody) {
-      verdict = "Limited coverage";
-      verdictColor = "text-red-400";
-      suggestions.push("Few IRs match your preferred tonal profiles. Consider capturing more shots with varied mic positions.");
-      suggestions.push("For brighter/feature tones: try condenser or ribbon mics at cap or cap-edge positions.");
-      suggestions.push("For warmer/body tones: try dynamic mics at cone or edge positions, slightly off-axis.");
-    } else if (!hasEnoughFeature) {
-      verdict = "Needs more feature-type shots";
-      verdictColor = "text-amber-400";
-      suggestions.push(`Only ${featureCount} IR${featureCount !== 1 ? 's' : ''} lean toward the brighter, presence-forward character you tend to prefer in feature elements.`);
-      suggestions.push("Try cap or cap-edge positions with condensers or ribbons for more articulation and air.");
-    } else {
-      verdict = "Needs more body-type shots";
-      verdictColor = "text-amber-400";
-      suggestions.push(`Only ${bodyCount} IR${bodyCount !== 1 ? 's' : ''} lean toward the warmer, mid-forward character you prefer for foundation/body tones.`);
-      suggestions.push("Try cone or edge positions with dynamic mics for more weight and warmth.");
-    }
-
-    if (unlikelyCount > 0) {
-      suggestions.push(`${unlikelyCount} IR${unlikelyCount !== 1 ? 's' : ''} scored low against current preferences — these may still work well as standalone IRs or in different blend contexts.`);
-    }
-
-    return {
-      featureCount,
-      bodyCount,
-      unlikelyCount,
-      unmatched,
-      avgFeatured,
-      avgBody,
-      verdict,
-      verdictColor,
-      suggestions,
-      total,
-    };
-  }, [batchPreferenceRoles, learnedProfile]);
+  // Preference Coverage (FIXED): use CURRENT musical roles from the analyzed batch.
+  // Feature layers = Cut Layer + Lead Polish
+  // Body layers = Foundation + Mid Thickener
+  // Utility roles = Fizz Tamer + Dark Specialty
+  const collectionCoverage = useMemo(() => {
+    if (!batchResult?.results?.length) return null;
+
+    // Use the same role derivation path as the TSV export so it never drifts.
+    const roles: string[] = batchResult.results.map((r: any) => {
+      try {
+        const tsvLine = buildSummaryTSVForRow(r);
+        const parts = String(tsvLine || "").split("\t");
+        return String(parts?.[2] ?? "").trim(); // musical_role column
+      } catch {
+        return "";
+      }
+    }).filter(Boolean);
+
+    const total = roles.length;
+    const count = (x: string) => roles.filter((rr) => rr === x).length;
+
+    const foundation = count("Foundation");
+    const cutLayer = count("Cut Layer");
+    const midThickener = count("Mid Thickener");
+    const leadPolish = count("Lead Polish");
+    const fizzTamer = count("Fizz Tamer");
+    const darkSpecialty = count("Dark Specialty");
+
+    const featureLayers = cutLayer + leadPolish;
+    const bodyLayers = foundation + midThickener;
+
+    const minForCategory = Math.max(2, Math.ceil(total * 0.15));
+    const hasBody = bodyLayers >= minForCategory;
+    const hasFeature = featureLayers >= minForCategory;
+    const hasPolish = leadPolish >= 1;
+
+    let verdict = "Limited coverage";
+    let verdictColor = "text-red-400";
+    const suggestions: string[] = [];
+
+    if (hasBody && hasFeature && hasPolish) {
+      verdict = "Good coverage";
+      verdictColor = "text-emerald-400";
+      suggestions.push(`Strong spread: ${bodyLayers} body layers (Foundation + Mid Thickener) and ${featureLayers} feature layers (Cut Layer + Lead Polish).`);
+      if (fizzTamer < 1) suggestions.push("Add 1 dedicated Fizz Tamer (low air, low fizz) as a safety tool for harsher amp pairings.");
+    } else if (!hasBody && !hasFeature) {
+      verdict = "Limited coverage";
+      verdictColor = "text-red-400";
+      suggestions.push("Limited role variety in this batch. Add more contrasting shots to cover both body and feature layers.");
+      suggestions.push("For more Cut Layers: cap / CapEdge_Br with dynamic mics (SM57, MD421, MD441, PR30) at closer distances.");
+      suggestions.push("For more Body Layers: Cone or CapEdge_Dk / CapEdge_Cone_Tr with ribbon/darker dynamics (R121, M201) and/or slightly farther distances.");
+      suggestions.push("For Lead Polish: smooth captures with higher air_pct (6–9k) but controlled fizz — often CapEdge_Br or Cap/OffCenter at moderate distance.");
+    } else if (!hasFeature) {
+      verdict = "Needs more feature layers";
+      verdictColor = "text-amber-400";
+      suggestions.push(`Only ${featureLayers} feature layers (Cut + Polish). Add more cap / CapEdge_Br cut shots and at least 1 extra polish layer.`);
+    } else if (!hasBody) {
+      verdict = "Needs more body layers";
+      verdictColor = "text-amber-400";
+      suggestions.push(`Only ${bodyLayers} body layers (Foundation + Thickener). Add more Cone / CapEdge_Dk / CapEdge_Cone_Tr and/or ribbon body shots.`);
+    } else if (!hasPolish) {
+      verdict = "Needs at least one polish layer";
+      verdictColor = "text-amber-400";
+      suggestions.push("Add at least 1 Lead Polish (higher air_pct with high smooth score) to finish mixes without harshness.");
+    }
+
+    return {
+      verdict,
+      verdictColor,
+      suggestions,
+      total,
+      featureLayers,
+      bodyLayers,
+      foundation,
+      cutLayer,
+      midThickener,
+      leadPolish,
+      fizzTamer,
+      darkSpecialty,
+    };
+  }, [batchResult]);
@@
-                      <div className="flex flex-wrap gap-3 text-xs">
-                        <span className="px-2 py-1 rounded bg-cyan-500/10 text-cyan-400 font-mono" data-testid="text-feature-count">
-                          {collectionCoverage.featureCount} feature-type
-                          {collectionCoverage.avgFeatured > 0 && ` (avg ${collectionCoverage.avgFeatured})`}
-                        </span>
-                        <span className="px-2 py-1 rounded bg-amber-500/10 text-amber-400 font-mono" data-testid="text-body-count">
-                          {collectionCoverage.bodyCount} body-type
-                          {collectionCoverage.avgBody > 0 && ` (avg ${collectionCoverage.avgBody})`}
-                        </span>
-                        {collectionCoverage.unmatched > 0 && (
-                          <span className="px-2 py-1 rounded bg-white/5 text-muted-foreground font-mono">
-                            {collectionCoverage.unmatched} unmatched
-                          </span>
-                        )}
-                        {collectionCoverage.unlikelyCount > 0 && (
-                          <span className="px-2 py-1 rounded bg-amber-500/10 text-amber-400 font-mono" data-testid="text-unlikely-count">
-                            {collectionCoverage.unlikelyCount} low match
-                          </span>
-                        )}
-                      </div>
+                      <div className="flex flex-wrap gap-3 text-xs">
+                        <span className="px-2 py-1 rounded bg-cyan-500/10 text-cyan-400 font-mono" data-testid="text-feature-count">
+                          {collectionCoverage.featureLayers} feature layers
+                          <span className="text-muted-foreground"> (Cut {collectionCoverage.cutLayer}, Polish {collectionCoverage.leadPolish})</span>
+                        </span>
+                        <span className="px-2 py-1 rounded bg-amber-500/10 text-amber-400 font-mono" data-testid="text-body-count">
+                          {collectionCoverage.bodyLayers} body layers
+                          <span className="text-muted-foreground"> (Foundation {collectionCoverage.foundation}, Thick {collectionCoverage.midThickener})</span>
+                        </span>
+                        <span className="px-2 py-1 rounded bg-white/5 text-muted-foreground font-mono">
+                          Fizz Tamers {collectionCoverage.fizzTamer} • Dark {collectionCoverage.darkSpecialty}
+                        </span>
+                      </div>
*** End Patch