cd Cab-Analyzer-main
git apply - <<'PATCH'
diff --git a/client/src/pages/IRMixer.tsx b/client/src/pages/IRMixer.tsx
index 5b80c7a..c4f9e2b 100644
--- a/client/src/pages/IRMixer.tsx
+++ b/client/src/pages/IRMixer.tsx
@@ -574,6 +574,28 @@ function TonalInsightsPanel({ learnedProfile }: { learnedProfile: LearnedProfileD
                     {correctionMutation.isPending ? <Loader2 className="w-3 h-3 animate-spin" /> : "Apply"}
                   </Button>
                 </div>
+
+                {/* Quick corrections: safe structured prompts that reliably nudge the profile. */}
+                <div className="flex flex-wrap gap-2 pt-2" data-testid="correction-quick-chips">
+                  {[
+                    { label: "More low-mids / weight", text: "I prefer more low-mid weight and thickness." },
+                    { label: "Less low-mids / tighter", text: "I prefer tighter low end and less low-mid buildup." },
+                    { label: "More cut / bite", text: "I prefer more upper-mid bite and cut in the mix." },
+                    { label: "Less bite / smoother", text: "I prefer smoother presence with less bite." },
+                    { label: "Less fizz", text: "I strongly dislike fizz and harsh top end; reduce 7â€“10k." },
+                    { label: "More air (not fizz)", text: "I like a bit more air/shine without fizz or harshness." },
+                  ].map((c) => (
+                    <button
+                      key={c.label}
+                      type="button"
+                      className="px-2 py-1 rounded border border-zinc-700 text-[10px] text-muted-foreground hover:text-foreground hover:border-zinc-500"
+                      onClick={() => setCorrectionText((prev) => (prev ? `${prev} ${c.text}` : c.text))}
+                      data-testid={`correction-chip-${c.label.replace(/\s+/g, "-").toLowerCase()}`}
+                    >
+                      {c.label}
+                    </button>
+                  ))}
+                </div>
               </div>
 
             </div>
@@ -964,6 +986,49 @@ export default function IRMixer() {
 
   const singleIrTasteStatus = useMemo(() => getTasteStatus(singleIrTasteContext), [singleIrTasteContext, tasteEnabled, tasteVersion]);
 
+  // --- Context-dependent candidate presentation ---
+  // Votes are stored per (speakerPrefix, mode, intent), but candidate generation does not incorporate intent.
+  // Re-rank Pick4/A-vs-B candidates using the current tasteContext bias so Rhythm/Lead/Clean diverge.
+  const rerankTasteCandidatesForContext = useCallback((cands: SuggestedPairing[]) => {
+    if (!cands || cands.length < 2) return cands;
+
+    const hash = (s: string) => {
+      let h = 2166136261;
+      for (let i = 0; i < s.length; i++) {
+        h ^= s.charCodeAt(i);
+        h = Math.imul(h, 16777619);
+      }
+      return h >>> 0;
+    };
+
+    const scored = cands.map((p) => {
+      const bF = featuresByFilename.get(p.baseFilename);
+      const fF = featuresByFilename.get(p.featureFilename);
+      let bias = 0;
+      let conf = 0;
+      try {
+        if (bF && fF) {
+          const vec = featurizeBlend(bF, fF, 0.5);
+          const r = getTasteBias(tasteContext, vec);
+          bias = r.bias;
+          conf = r.confidence;
+        }
+      } catch {
+        // ignore
+      }
+      const tie = hash(`${tasteIntent}::${p.baseFilename}::${p.featureFilename}`);
+      return { p, bias, conf, tie };
+    });
+
+    scored.sort((a, b) => {
+      if (b.bias !== a.bias) return b.bias - a.bias;
+      if (b.conf !== a.conf) return b.conf - a.conf;
+      return a.tie - b.tie;
+    });
+
+    return scored.map((s) => s.p);
+  }, [featuresByFilename, tasteContext, tasteIntent]);
+
   const SINGLE_IR_PAGE_SIZE = 4;
   const singleIrTotalPages = useMemo(() => {
@@ -1473,7 +1538,7 @@ export default function IRMixer() {
         const maxRounds = getTasteCheckRounds(tastePick.confidence, pairingPool.length);
         modeTriggeredTasteCheck.current = true;
         setTasteCheckPhase({
-          candidates: tastePick.candidates,
+          candidates: rerankTasteCandidatesForContext(tastePick.candidates),
           roundType: tastePick.roundType,
           axisName: tastePick.axisName,
           axisLabels: tastePick.axisLabels,
@@ -1590,7 +1655,7 @@ export default function IRMixer() {
       }
 
       setTasteCheckPhase({
-        candidates: nextPick.candidates,
+        candidates: rerankTasteCandidatesForContext(nextPick.candidates),
         roundType: nextPick.roundType,
         axisName: nextPick.axisName,
         axisLabels: nextPick.axisLabels,
@@ -1823,7 +1888,7 @@ export default function IRMixer() {
           if (tastePick) {
             const maxRounds = getTasteCheckRounds(tastePick.confidence, pairingPool.length);
             setTasteCheckPhase({
-              candidates: tastePick.candidates,
+              candidates: rerankTasteCandidatesForContext(tastePick.candidates),
               roundType: tastePick.roundType,
               axisName: tastePick.axisName,
               axisLabels: tastePick.axisLabels,
PATCH